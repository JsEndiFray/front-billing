/* ========================================
   BILLS LIST COMPONENT - CSS COMPLETO
   ======================================== */

/* Contenedor principal */
.bills-wrapper {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 1rem;
  padding: 1.5rem;
  margin: 2rem auto;
  width: 100%;
  max-width: 100%;
  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.1);
  overflow-x: auto;
}

/* Título principal */
.bills-title {
  color: #1f2937;
  font-size: 2rem;
  font-weight: 700;
  text-align: center;
  margin-bottom: 2rem;
}

/* ========================================
   SECCIÓN DE BÚSQUEDA
   ======================================== */

/* Contenedor de búsqueda */
.bills-search-container {
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

/* Wrapper del campo de búsqueda */
.bills-search-wrapper {
  position: relative;
  max-width: 32rem;
  margin: 0 auto;
  width: 100%;
}

/* Campo de búsqueda */
.bills-search-input {
  width: 100%;
  padding: 0.75rem 3rem 0.75rem 1rem;
  border: 0.125rem solid #e5e7eb;
  border-radius: 0.5rem;
  font-size: 0.875rem;
  color: #374151;
  background: #ffffff;
  transition: all 0.2s ease;
  box-sizing: border-box;
}

/* Estado focus del campo de búsqueda */
.bills-search-input:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 0.1875rem rgba(59, 130, 246, 0.1);
}

/* Placeholder del campo de búsqueda */
.bills-search-input::placeholder {
  color: #9ca3af;
}

/* Contenedor de acciones de búsqueda */
.bills-search-actions {
  position: absolute;
  right: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* Icono de búsqueda */
.bills-search-icon {
  color: #6b7280;
  font-size: 0.875rem;
  pointer-events: none;
}

/* Botón limpiar búsqueda */
.bills-clear-button {
  background: #f3f4f6;
  border: none;
  border-radius: 50%;
  width: 1.25rem;
  height: 1.25rem;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: #6b7280;
  font-size: 0.75rem;
  transition: all 0.2s ease;
  pointer-events: auto;
}

/* Hover del botón limpiar */
.bills-clear-button:hover {
  background: #e5e7eb;
  color: #374151;
}

/* Información de resultados de búsqueda */
.bills-search-results {
  text-align: center;
  color: #6b7280;
  font-size: 0.75rem;
  font-weight: 500;
}

/* ========================================
   BOTONES PRINCIPALES
   ======================================== */

/* Botón nueva factura */
.bills-btn-new {
  background: #3b82f6;
  color: white;
  border: none;
  border-radius: 0.375rem;
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  margin: 0.75rem auto 1.5rem auto;
  display: block;
  transition: all 0.2s ease;
}

/* Hover del botón nueva factura */
.bills-btn-new:hover {
  background: #2563eb;
}

/* ========================================
   TABLA PRINCIPAL
   ======================================== */

/* Contenedor de la tabla */
.bills-table-container {
  overflow-x: auto;
}

/* Tabla principal - ACTUALIZADA PARA 17 COLUMNAS */
.bills-table {
  width: 100%;
  min-width: 120rem; /* ✅ AUMENTADO para nuevas columnas de pago */
  border-collapse: separate;
  border-spacing: 0;
  background: #ffffff;
  border-radius: 0.5rem;
  overflow: hidden;
  border: 0.0625rem solid #e5e7eb;
}

/* Cabecera de la tabla */
.bills-table-head {
  background: #f9fafb;
}

/* Celdas de encabezado */
.bills-th {
  padding: 0.75rem 0.5rem;
  color: #374151;
  font-weight: 600;
  text-align: left;
  font-size: 0.75rem;
  border-bottom: 0.0625rem solid #e5e7eb;
  white-space: nowrap;
}

/* ========================================
   DISTRIBUCIÓN DE COLUMNAS - ACTUALIZADA
   ======================================== */

th:nth-child(1) { width: auto; }      /* ID */
th:nth-child(2) { width: auto; }      /* Nº Factura */
th:nth-child(3) { width: auto; }     /* Propiedad */
th:nth-child(4) { width: auto; }      /* Cliente */
th:nth-child(5) { width: auto; }      /* Propietario */
th:nth-child(6) { width: 3%; }      /* % */
th:nth-child(7) { width: auto; }      /* Fecha */
th:nth-child(8) { width: auto; }      /* Base Imponible */
th:nth-child(9) { width: auto; }      /* IVA */
th:nth-child(10) { width: auto; }     /* IRPF */
th:nth-child(11) { width: 5%; }     /* Total */
th:nth-child(12) { width: auto; }     /* Estado Pago */
th:nth-child(13) { width: auto; }     /* Método Pago */
th:nth-child(14) { width: auto; }     /* Fecha Pago */
th:nth-child(15) { width: auto; }     /* Abonos */
th:nth-child(16) { width: auto; }     /* F. Abonada */
th:nth-child(17) { width: 15%; }    /* Acciones */

/* ========================================
   FILAS Y CELDAS DE DATOS
   ======================================== */

/* Cuerpo de la tabla */
.bills-table-body {
  background: #ffffff;
}

/* Filas de datos */
.bills-table-row:hover .bills-td {
  background: #f9fafb;
}

.bills-table-row:last-child .bills-td {
  border-bottom: none;
}

/* Celdas de datos */
.bills-td {
  padding: 0.75rem 0.5rem;
  border-bottom: 0.0625rem solid #f3f4f6;
  color: #374151;
  font-size: 0.75rem;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 0;
}

/* ========================================
   ESTILOS ESPECÍFICOS POR TIPO DE CELDA
   ======================================== */

/* Estilo especial para número de factura */
.bills-bill-number {
  color: #3b82f6;
  font-weight: 600;
  font-family: 'Courier New', monospace;
}

/* Estilo especial para cliente */
.bills-client {
  color: #6366f1;
  font-weight: 500;
}

/* Estilo especial para propietario */
.bills-owner {
  color: #0891b2;
  font-weight: 500;
}

/* Estilo especial para porcentaje */
.bills-percentage {
  color: #f59e0b;
  font-weight: 600;
  text-align: center;
}

/* Estilo especial para campos monetarios */
.bills-currency {
  color: #059669;
  font-weight: 600;
  text-align: right;
  font-family: 'Courier New', monospace;
}

/* Estilo especial para impuestos */
.bills-tax {
  color: #f59e0b;
  font-weight: 600;
  text-align: center;
  font-family: 'Courier New', monospace;
}

/* Estilo especial para total */
.bills-total {
  color: #059669;
  font-weight: 700;
  text-align: right;
  font-family: 'Courier New', monospace;
  background: linear-gradient(45deg, #f0fdf4, #ecfdf5);
  border-radius: 0.25rem;
}

/* Estilo especial para factura original */
.bills-original {
  color: #6b7280;
  font-family: 'Courier New', monospace;
  text-align: center;
}

/* ========================================
   BADGES Y ESTADOS
   ======================================== */

/* Badge de devolución - Sí */
.bills-refund-badge {
  background: #ef4444;
  color: white;
  padding: 0.25rem 0.5rem;
  border-radius: 0.25rem;
  font-size: 0.6875rem;
  font-weight: 600;
  white-space: nowrap;
  display: inline-block;
}

/* Badge de devolución - No */
.bills-no-refund {
  background: #10b981;
  color: white;
  padding: 0.25rem 0.5rem;
  border-radius: 0.25rem;
  font-size: 0.6875rem;
  font-weight: 600;
  white-space: nowrap;
  display: inline-block;
}

/* ========================================
   ESTILOS PARA GESTIÓN DE PAGOS - NUEVOS
   ======================================== */

/* Contenedor de estado de pago */
.payment-status-container {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  justify-content: center;
}

/* Badge de estado pagado */
.bills-paid-badge {
  background: #10b981;
  color: white;
  padding: 0.25rem 0.5rem;
  border-radius: 0.25rem;
  font-size: 0.6875rem;
  font-weight: 600;
  white-space: nowrap;
  display: inline-block;
  cursor: pointer;
  transition: all 0.2s ease;
  min-width: 60px;
  text-align: center;
}

.bills-paid-badge:hover {
  background: #059669;
  transform: scale(1.05);
}

/* Badge de estado pendiente */
.bills-pending-badge {
  background: #f59e0b;
  color: white;
  padding: 0.25rem 0.5rem;
  border-radius: 0.25rem;
  font-size: 0.6875rem;
  font-weight: 600;
  white-space: nowrap;
  display: inline-block;
  cursor: pointer;
  transition: all 0.2s ease;
  min-width: 60px;
  text-align: center;
}

.bills-pending-badge:hover {
  background: #d97706;
  transform: scale(1.05);
}

/* Botón de editar pago */
.bills-btn-edit-payment {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 0.75rem;
  padding: 0.125rem;
  border-radius: 0.125rem;
  transition: all 0.2s ease;
  opacity: 0.7;
}

.bills-btn-edit-payment:hover {
  opacity: 1;
  background: #f3f4f6;
}

/* Selectores de pago */
.payment-select {
  width: 100%;
  max-width: 100px;
  padding: 0.25rem 0.375rem;
  border: 1px solid #d1d5db;
  border-radius: 0.25rem;
  font-size: 0.6875rem;
  color: #374151;
  background: white;
  transition: border-color 0.15s ease;
}

.payment-select:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 0.125rem rgba(59, 130, 246, 0.1);
}

/* Input de fecha de pago */
.payment-date-input {
  width: 100%;
  max-width: 120px;
  padding: 0.25rem 0.375rem;
  border: 1px solid #d1d5db;
  border-radius: 0.25rem;
  font-size: 0.6875rem;
  color: #374151;
  background: white;
  transition: border-color 0.15s ease;
}

.payment-date-input:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 0.125rem rgba(59, 130, 246, 0.1);
}

/* Texto de visualización */
.payment-method-display,
.payment-date-display {
  color: #6b7280;
  font-size: 0.6875rem;
  font-weight: 500;
  text-align: center;
  display: block;
  width: 100%;
}

/* Alineación de columnas de pago */
.bills-td:nth-child(12), /* Estado Pago */
.bills-td:nth-child(13), /* Método Pago */
.bills-td:nth-child(14) { /* Fecha Pago */
  text-align: center;
  vertical-align: middle;
}

/* Efectos hover para celdas de pago */
.bills-table-row:hover .payment-status-container {
  opacity: 1;
}

.bills-table-row .payment-status-container {
  opacity: 0.9;
  transition: opacity 0.2s ease;
}

/* Estados especiales para celdas de pago */
.bills-td:nth-child(12):has(.bills-paid-badge) {
  background: linear-gradient(45deg, #f0fdf4, #ecfdf5);
}

.bills-td:nth-child(12):has(.bills-pending-badge) {
  background: linear-gradient(45deg, #fffbeb, #fef3c7);
}

/* ========================================
   BOTONES DE ACCIÓN
   ======================================== */

/* Botones de acción en tabla */
.bills-btn-pdf,
.bills-btn-edit,
.bills-btn-delete {
  padding: 0.25rem 0.5rem;
  margin: 0 0.125rem;
  border: none;
  border-radius: 0.25rem;
  font-size: 0.6875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

/* Botón PDF */
.bills-btn-pdf {
  background: #3b82f6;
  color: white;
}

.bills-btn-pdf:hover {
  background: #2563eb;
}

/* Botón editar */
.bills-btn-edit {
  background: #059669;
  color: white;
}

.bills-btn-edit:hover {
  background: #047857;
}

/* Botón eliminar */
.bills-btn-delete {
  background: #ef4444;
  color: white;
}

.bills-btn-delete:hover {
  background: #dc2626;
}

/* Botón de abono */
.bills-btn-pay {
  background: #28a745;
  color: white;
  padding: 0.25rem 0.5rem;
  margin: 0 0.125rem;
  border: none;
  border-radius: 0.25rem;
  font-size: 0.6875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.bills-btn-pay:hover {
  background: #218838;
}

/* Botones de guardar/cancelar para edición de pagos */
.bills-btn-save {
  background: #10b981;
  color: white;
  padding: 0.25rem 0.5rem;
  margin: 0 0.125rem;
  border: none;
  border-radius: 0.25rem;
  font-size: 0.6875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  display: block;
  width: 100%;
  margin-bottom: 0.25rem;
}

.bills-btn-save:hover {
  background: #059669;
}

.bills-btn-cancel {
  background: #6b7280;
  color: white;
  padding: 0.25rem 0.5rem;
  margin: 0 0.125rem;
  border: none;
  border-radius: 0.25rem;
  font-size: 0.6875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  display: block;
  width: 100%;
}

.bills-btn-cancel:hover {
  background: #4b5563;
}

/* ========================================
   ESTADO SIN DATOS
   ======================================== */

/* Estado sin datos */
.bills-no-data {
  text-align: center;
  padding: 3rem;
}

/* Tarjeta de estado vacío */
.bills-empty-state {
  background: #f9fafb;
  border: 0.0625rem solid #e5e7eb;
  border-radius: 0.5rem;
  padding: 2rem;
  max-width: 25rem;
  margin: 0 auto;
}

/* Icono de estado vacío */
.bills-empty-icon {
  font-size: 2rem;
  margin-bottom: 1rem;
  opacity: 0.7;
}

/* Título de estado vacío */
.bills-empty-title {
  color: #1f2937;
  font-size: 1.25rem;
  font-weight: 600;
  margin-bottom: 0.75rem;
}

/* Texto de estado vacío */
.bills-empty-text {
  color: #6b7280;
  font-size: 0.875rem;
  line-height: 1.5;
  margin: 0 0 1.5rem 0;
}

/* Botón crear en estado vacío */
.bills-btn-create {
  background: #3b82f6;
  color: white;
  border: none;
  border-radius: 0.375rem;
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.bills-btn-create:hover {
  background: #2563eb;
}

/* MODAL DE ABONOS*/

/* Modal overlay */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  backdrop-filter: blur(2px);
}

/* Contenido del modal */
.modal-content {
  background: white;
  border-radius: 0.75rem;
  width: 90%;
  max-width: 500px;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  animation: modalAppear 0.2s ease-out;
}

@keyframes modalAppear {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Header del modal */
.modal-header {
  background: #f8f9fa;
  padding: 1.25rem 1.5rem;
  border-bottom: 1px solid #dee2e6;
  border-radius: 0.75rem 0.75rem 0 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.modal-header h3 {
  margin: 0;
  color: #343a40;
  font-size: 1.25rem;
  font-weight: 600;
}

.close-btn {
  background: none;
  border: none;
  font-size: 1.5rem;
  color: #6c757d;
  cursor: pointer;
  padding: 0;
  width: 2rem;
  height: 2rem;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: all 0.2s ease;
}

.close-btn:hover {
  background: #e9ecef;
  color: #495057;
}

/* Cuerpo del modal */
.modal-body {
  padding: 1.5rem;
}

.modal-body p {
  margin: 0 0 1rem 0;
  color: #6c757d;
  font-size: 0.9rem;
}

.modal-body p strong {
  color: #343a40;
}

/* Grupos de formulario en modal */
.form-group {
  margin-bottom: 1.25rem;
}

.form-group label {
  display: block;
  margin-bottom: 0.5rem;
  color: #495057;
  font-weight: 500;
  font-size: 0.875rem;
}

.form-group input,
.form-group select,
.form-group textarea {
  width: 100%;
  padding: 0.625rem 0.75rem;
  border: 1px solid #ced4da;
  border-radius: 0.375rem;
  font-size: 0.875rem;
  color: #495057;
  background: white;
  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
  box-sizing: border-box;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
  outline: none;
  border-color: #80bdff;
  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
}

.form-group textarea {
  resize: vertical;
  min-height: 3rem;
}

/* Botones del modal */
.modal-buttons {
  display: flex;
  gap: 0.75rem;
  justify-content: flex-end;
  margin-top: 1.5rem;
  padding-top: 1rem;
  border-top: 1px solid #dee2e6;
}

.btn-cancel {
  background: #6c757d;
  color: white;
  border: none;
  padding: 0.625rem 1.25rem;
  border-radius: 0.375rem;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.btn-cancel:hover {
  background: #5a6268;
}

.btn-save {
  background: #28a745;
  color: white;
  border: none;
  padding: 0.625rem 1.25rem;
  border-radius: 0.375rem;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.btn-save:hover {
  background: #218838;
}

/* RESPONSIVE DESIGN */

/* Responsive para tablet grande */
@media (max-width: 90rem) {
  .bills-wrapper {
    padding: 1.25rem;
    margin: 1.5rem auto;
    width: 99%;
  }

  .bills-search-wrapper {
    max-width: 28rem;
  }

  .bills-search-input {
    padding: 0.625rem 2.75rem 0.625rem 0.875rem;
    font-size: 0.8125rem;
  }

  .bills-table {
    min-width: 110rem; /* Ajustado para nuevas columnas */
  }

  .bills-th,
  .bills-td {
    padding: 0.625rem 0.375rem;
    font-size: 0.6875rem;
  }

  .payment-select,
  .payment-date-input {
    font-size: 0.625rem;
    padding: 0.1875rem 0.25rem;
    max-width: 80px;
  }

  .bills-paid-badge,
  .bills-pending-badge {
    font-size: 0.625rem;
    padding: 0.1875rem 0.375rem;
    min-width: 50px;
  }
}

/* Responsive para tablet */
@media (max-width: 48rem) {
  .bills-wrapper {
    padding: 1rem;
    margin: 1rem auto;
  }

  .bills-title {
    font-size: 1.5rem;
    margin-bottom: 1.5rem;
  }

  .bills-search-container {
    margin-bottom: 1.25rem;
  }

  .bills-search-wrapper {
    max-width: 100%;
  }

  .bills-search-input {
    padding: 0.5rem 2.5rem 0.5rem 0.75rem;
    font-size: 0.75rem;
  }

  .bills-search-actions {
    right: 0.625rem;
  }

  .bills-clear-button {
    width: 1.125rem;
    height: 1.125rem;
    font-size: 0.6875rem;
  }

  .bills-table {
    min-width: 100rem;
  }

  .bills-th,
  .bills-td {
    padding: 0.5rem 0.25rem;
    font-size: 0.625rem;
  }

  .bills-btn-pdf,
  .bills-btn-edit,
  .bills-btn-delete,
  .bills-btn-pay {
    display: block;
    width: 100%;
    margin: 0.0625rem 0;
    padding: 0.25rem;
    font-size: 0.625rem;
  }

  .payment-status-container {
    flex-direction: column;
    gap: 0.125rem;
  }

  .bills-btn-edit-payment {
    font-size: 0.625rem;
  }

  .bills-btn-save,
  .bills-btn-cancel {
    font-size: 0.625rem;
    padding: 0.1875rem 0.25rem;
  }

  /* Modal responsive */
  .modal-content {
    width: 95%;
    margin: 1rem;
  }

  .modal-header {
    padding: 1rem 1.25rem;
  }

  .modal-body {
    padding: 1.25rem;
  }

  .modal-buttons {
    flex-direction: column;
  }

  .btn-cancel,
  .btn-save {
    width: 100%;
  }
}

/* Responsive para móvil */
@media (max-width: 30rem) {
  .bills-wrapper {
    padding: 0.75rem;
    margin: 0.5rem auto;
  }

  .bills-title {
    font-size: 1.25rem;
    margin-bottom: 1rem;
  }

  .bills-search-container {
    margin-bottom: 1rem;
  }

  .bills-search-input {
    padding: 0.5rem 2.25rem 0.5rem 0.625rem;
    font-size: 0.6875rem;
  }

  .bills-search-input::placeholder {
    font-size: 0.6875rem;
  }

  .bills-search-results {
    font-size: 0.6875rem;
  }

  .bills-table {
    min-width: 90rem;
  }

  .bills-empty-state {
    padding: 1.5rem;
  }

  .payment-method-display,
  .payment-date-display {
    font-size: 0.625rem;
  }

  .payment-select,
  .payment-date-input {
    max-width: 70px;
  }

  /* Agregar esto al final de tu CSS para móviles */
  @media (max-width: 768px) {
    .bills-table-container {
      overflow-x: auto;
      -webkit-overflow-scrolling: touch; /* ✅ Scroll suave en móviles */
    }

    .bills-table {
      min-width: 800px; /* ✅ Más pequeño en móviles */
    }
  }
}
