<div class="form-wrapper">
  <h2>Editar Cliente</h2>

  <form (ngSubmit)="updateClient()">

    <!-- Informaci√≥n b√°sica -->
    <div class="form-section">
      <h3>üìã Informaci√≥n B√°sica</h3>
      <div class="form-grid">
        <div>
          <label for="type_client">Tipo de Cliente</label>
          <select [(ngModel)]="client.type_client" name="type_client" id="type_client" required>
            <option value="">Seleccionar tipo</option>
            <option value="particular">Particular</option>
            <option value="autonomo">Aut√≥nomo</option>
            <option value="empresa">Empresa</option>
          </select>
        </div>

        <div>
          <label for="name">Nombre *</label>
          <input
            type="text"
            [(ngModel)]="client.name"
            name="name"
            id="name"
            placeholder="Nombre del cliente"
            required>
        </div>

        <div>
          <label for="lastname">Apellidos</label>
          <input
            type="text"
            [(ngModel)]="client.lastname"
            name="lastname"
            id="lastname"
            placeholder="Apellidos del cliente">
        </div>

        <div>
          <label for="identification">Identificaci√≥n *</label>
          <input
            type="text"
            [(ngModel)]="client.identification"
            name="identification"
            id="identification"
            placeholder="DNI/NIE/CIF"
            required>
        </div>
      </div>
    </div>

    <!-- Informaci√≥n de contacto -->
    <div class="form-section">
      <h3>üìû Informaci√≥n de Contacto</h3>
      <div class="form-grid">
        <div>
          <label for="email">Email *</label>
          <input
            type="email"
            [(ngModel)]="client.email"
            name="email"
            id="email"
            placeholder="cliente@email.com"
            required>
        </div>

        <div>
          <label for="phone">Tel√©fono *</label>
          <input
            type="tel"
            [(ngModel)]="client.phone"
            name="phone"
            id="phone"
            placeholder="123 456 789"
            required>
        </div>
      </div>
    </div>

    <!-- Direcci√≥n -->
    <div class="form-section">
      <h3>üè† Direcci√≥n</h3>
      <div class="form-grid">
        <div>
          <label for="address">Direcci√≥n</label>
          <input
            type="text"
            [(ngModel)]="client.address"
            name="address"
            id="address"
            placeholder="Calle Principal 123">
        </div>

        <div>
          <label for="postal_code">C√≥digo Postal</label>
          <input
            type="text"
            [(ngModel)]="client.postal_code"
            name="postal_code"
            id="postal_code"
            placeholder="28001"
            pattern="[0-9]{5}">
        </div>

        <div>
          <label for="location">Localidad</label>
          <input
            type="text"
            [(ngModel)]="client.location"
            name="location"
            id="location"
            placeholder="Madrid">
        </div>

        <div>
          <label for="province">Provincia</label>
          <input
            type="text"
            [(ngModel)]="client.province"
            name="province"
            id="province"
            placeholder="Madrid">
        </div>

        <div>
          <label for="country">Pa√≠s</label>
          <input
            type="text"
            [(ngModel)]="client.country"
            name="country"
            id="country"
            placeholder="Espa√±a"
            value="Espa√±a">
        </div>
      </div>
    </div>

    <!-- Informaci√≥n empresarial (si aplica) -->
    @if (client.type_client === 'empresa' || client.type_client === 'autonomo') {
      <div class="form-section">
        <h3>üè¢ Informaci√≥n Empresarial</h3>
        <div class="form-grid">
          <div>
            <label for="company_name">Nombre de Empresa</label>
            <input
              type="text"
              [(ngModel)]="client.company_name"
              name="company_name"
              id="company_name"
              placeholder="Empresa S.L.">
          </div>

          @if (client.type_client === 'autonomo') {
            <div>
              <label for="parent_company_name">Empresa Relacionada</label>
              <input
                type="text"
                [(ngModel)]="client.parent_company_name"
                name="parent_company_name"
                id="parent_company_name"
                placeholder="Empresa relacionada"
                readonly>
            </div>

            <div>
              <label for="relationship_type">Tipo de Relaci√≥n</label>
              <select [(ngModel)]="client.relationship_type" name="relationship_type" id="relationship_type">
                <option value="">Sin relaci√≥n</option>
                <option value="administrator">Administrador</option>
              </select>
            </div>
          }
        </div>
      </div>
    }

    <!-- Botones de acci√≥n -->
    <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 2rem;">
      <button type="button" class="btn-secondary" (click)="goBack()">
        ‚Üê Cancelar
      </button>
      <button type="submit" class="btn-primary">
        ‚úì Actualizar Cliente
      </button>
    </div>

  </form>
</div>
